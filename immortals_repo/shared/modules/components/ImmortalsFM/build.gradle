apply plugin: immortals.CoreDefinitions
apply plugin: immortals.Java8Component
apply plugin: immortals.PublishJavaDfu

sourceSets {
    validation {
        java {
            srcDirs = ['src/validation/java']
        }
    }
    main {
        java {
            srcDirs = ['src/main/java']
        }
    }
}

jar {
    manifest {
        attributes "Implementation-Title": "ImmortalsFM",
                "Implementation-Version": defaultSoftwarePublishVersion,
                "Main-Class": "mil.darpa.immortals.ImmortalsFM.TripleGenerator"
    }
}

task('validate', type: Test) {
    group = 'Verification'
    description = 'Executes all the validation tests'
    testClassesDir = sourceSets.validation.output.classesDir
    classpath = sourceSets.validation.runtimeClasspath
}


dependencies {
    validationCompile(sourceSets.main.output)
    validationCompile(configurations.compile)
    validationCompile(configurations.runtime)
    validationCompile('junit:junit:4.12')
}


